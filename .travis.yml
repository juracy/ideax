language: python
python:
  - "3.6"
services:
  - postgresql
before_script:
  - psql -c 'create database test_db;' -U postgres
install:
  - pip install -r requirements/dev.txt
env:
  global:
    - DEBUG=True
    - DJANGO_SETTINGS_MODULE=ideax.settings.test
    - SECRET_KEY=12345678901234567890123456789012345678901234567890
    - GENERAL_USER_GROUP=General
    - ALLOWED_HOSTS=.localhost,ideax
    - DATABASE_URL=postgres://postgres@localhost/test_db
script:
  - flake8 ideax
  - py.test
